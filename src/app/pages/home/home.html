<div class="home-wrapper">

  @if (isCleaningPanel) {

    <app-listado-habitaciones></app-listado-habitaciones>

  } @else {

    @if (!isStaffPanel) {
      <section class="restinn-hero" #restinnHero>

        <div class="restinn-hero__shapes">
          <div class="restinn-hero__shape restinn-hero__shape--left"></div>
          <div class="restinn-hero__shape restinn-hero__shape--right"></div>
        </div>

        <div class="restinn-hero__content">
          <div class="restinn-hero__logo">
            <img
              class="hero-logo hero-logo--dark"
              src="assets/logos/logo-header.png"
              alt="RestInn · Gestión Hotelera"
            />

            <img
              class="hero-logo hero-logo--light"
              src="assets/logos/logo-header-claro.png"
              alt="RestInn · Gestión Hotelera (claro)"
            />
          </div>

          <div class="restinn-hero__text">
            <h1>Gestioná tu hotel a cualquier escala</h1>
            <p>
              RestInn conecta reservas, habitaciones, usuarios y facturación en un
              solo panel, sin perder la calidez de la atención personalizada.
            </p>
          </div>
        </div>
      </section>
    }

    @if (!isStaffPanel) {

      <section class="hero">

        <div class="hero-scroll">
          <div
            class="hero-step"
            #heroStep
            *ngFor="let section of publicHeroSections; let i = index"
            [class.hero-step--active]="i === activeHeroIndex"
            [class.hero-step--past]="i < activeHeroIndex"
            [class.hero-step--reverse]="i % 2 === 1"
            (click)="onHeroSectionClick(section.key, $event)"
            tabindex="0"
          >

            <div
              class="hero-step__image"
              [style.backgroundImage]="'url(' + section.imageUrl + ')'"
            ></div>

            <div class="hero-step__content">
              <span class="hero-step__tag">{{ section.tag }}</span>
              <h3 class="hero-step__title">{{ section.title }}</h3>

              <p class="hero-step__text">
                {{ section.description }}
              </p>

              <p class="hero-step__tip" *ngIf="currentHeroKey === section.key">
                {{ typedHeroText }}
              </p>
            </div>
          </div>
        </div>

      </section>

    } @else {

      <section class="admin-home">

        <header class="hero-header admin-header">
          <span class="hero-eyebrow">RestInn · panel administrativo</span>
          <h2>Gestión rápida del hotel</h2>
          <p class="hero-subtitle">
            Accedé en un clic a usuarios, habitaciones, reservas y facturación.
          </p>
        </header>

        <div class="admin-actions">

          <!-- Gestión de usuarios -->
          <button
            type="button"
            class="admin-action admin-action--usuarios"
            (mouseenter)="setHeroText('adminUsuarios')"
            (mouseleave)="setHeroText('default')"
            (click)="goToGestionUsuarios($event)"
          >
            <div class="admin-action__icon">
              <svg
                class="admin-icon admin-icon--usuarios"
                viewBox="0 0 32 32"
                aria-hidden="true"
              >
                <circle cx="12" cy="11" r="4.2" />
                <path d="M5.5 21.5c1.2-2.5 3.2-4 6.5-4s5.3 1.5 6.5 4" />
                <circle cx="22" cy="11" r="3.2" />
                <path d="M18.5 21c.7-1.9 2.1-3 3.9-3 1.9 0 3.2 1 3.9 3" />
              </svg>
            </div>
            <span class="admin-action__label">Gestión de usuarios</span>
            <span class="admin-action__hint">Altas, bajas, roles y accesos.</span>
          </button>

          <!-- Habitaciones -->
          <button
            type="button"
            class="admin-action admin-action--habitaciones"
            (mouseenter)="setHeroText('adminHabitaciones')"
            (mouseleave)="setHeroText('default')"
            (click)="goToAdminHabitaciones($event)"
          >
            <div class="admin-action__icon">
              <svg
                class="admin-icon admin-icon--habitaciones"
                viewBox="0 0 32 32"
                aria-hidden="true"
              >
                <rect x="5" y="14" width="22" height="8" rx="1.6" />
                <line x1="5" y1="22" x2="5" y2="26" />
                <line x1="27" y1="22" x2="27" y2="26" />
                <rect x="6" y="11" width="7" height="4" rx="1" />
              </svg>
            </div>
            <span class="admin-action__label">Habitaciones</span>
            <span class="admin-action__hint">Disponibilidad y tarifas.</span>
          </button>

          <!-- Gestión de reservas -->
          <button
            type="button"
            class="admin-action admin-action--reservas"
            (mouseenter)="setHeroText('adminReservas')"
            (mouseleave)="setHeroText('default')"
            (click)="goToGestionReservas($event)"
          >
            <div class="admin-action__icon">
              <svg
                class="admin-icon admin-icon--reservas"
                viewBox="0 0 32 32"
                aria-hidden="true"
              >
                <rect x="6" y="7" width="20" height="18" rx="2.5" />
                <line x1="6" y1="13" x2="26" y2="13" />
                <line x1="12" y1="5" x2="12" y2="9" />
                <line x1="20" y1="5" x2="20" y2="9" />
                <polyline points="12 18 14.8 20.6 19 16.5" />
              </svg>
            </div>
            <span class="admin-action__label">Gestión de reservas</span>
            <span class="admin-action__hint">Check-in, check-out y agenda.</span>
          </button>

          <!-- Facturación & pagos -->
          <button
            type="button"
            class="admin-action admin-action--facturacion"
            (mouseenter)="setHeroText('adminFacturacion')"
            (mouseleave)="setHeroText('default')"
            (click)="goToFacturacion($event)"
          >
            <div class="admin-action__icon">
              <svg
                class="admin-icon admin-icon--facturacion"
                viewBox="0 0 32 32"
                aria-hidden="true"
              >
                <circle cx="16" cy="16" r="9" />
                <path d="M16 10v12" />
                <path
                  d="M19.5 12.3c-.7-1.1-1.8-1.8-3.5-1.8-2.1 0-3.6 1.1-3.6 2.8 0 1.7 1.2 2.5 3.4 2.9l1.3.2c2.1.3 3.4 1.2 3.4 3 0 1.8-1.6 3-3.8 3-1.9 0-3.3-.8-4-2"
                />
              </svg>
            </div>
            <span class="admin-action__label">Facturación &amp; pagos</span>
            <span class="admin-action__hint">Facturas, cobros y PDFs.</span>
          </button>

        </div>

        <div class="hero-dynamic">
          <span class="hero-dynamic__prefix">
            {{ currentHeroKey === 'default' ? 'Tip' : (currentHeroKey | titlecase) }}
          </span>
          <span class="hero-dynamic__text">
            {{ typedHeroText }}
          </span>
        </div>

      </section>
    }

  }

</div>
