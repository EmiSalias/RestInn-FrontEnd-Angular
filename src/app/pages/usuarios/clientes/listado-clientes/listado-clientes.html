<section class="clients-page">
  <h1 class="gest-usuarios" routerLink="/gestion_usuarios">Gestión de usuarios</h1>
  <h1>></h1>
  <h1>Listado de clientes</h1>
  
  @if (loading) {
    <div class="status">Cargando clientes...</div>
  }

  @if (!loading && errorMsg) {
    <div class="status error">{{ errorMsg }}</div>
  }

  @if (!loading && !errorMsg && clientes.length > 0) {
    <table class="clients-table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Email</th>
          <th>DNI</th>
          <th>Teléfono</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        @for (c of clientes; track c.id) {
          <tr>
            <td>{{ c.nombre }} {{ c.apellido }}</td>
            <td>{{ c.email }}</td>
            <td>{{ c.dni }}</td>
            <td>{{ c.phoneNumber }}</td>
            <td>
              <button
                class="btn-link"
                [routerLink]="['/usuario', c.id]">
                Ver detalles
              </button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  } @else if (!loading && !errorMsg) {
    <div class="empty">
      No hay clientes registrados todavía.
    </div>
  }
</section>